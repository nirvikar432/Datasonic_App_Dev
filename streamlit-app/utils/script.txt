CREATE TABLE Quotations (
    ID INT IDENTITY(1,1) PRIMARY KEY,
    TEMP_POLICY_ID NVARCHAR(50) UNIQUE NOT NULL,
    CUST_ID NVARCHAR(50) NOT NULL,
    CUST_NAME NVARCHAR(100) NOT NULL,
    CUST_DOB DATE NOT NULL,
    CUST_CONTACT NVARCHAR(20) NOT NULL,
    CUST_EMAIL NVARCHAR(100),
    EXECUTIVE NVARCHAR(100) NOT NULL,
    CHASSIS_NO NVARCHAR(50) NOT NULL,
    MAKE NVARCHAR(50) NOT NULL,
    MODEL NVARCHAR(50) NOT NULL,
    MODEL_YEAR NVARCHAR(10) NOT NULL,
    REGN NVARCHAR(20),
    USE_OF_VEHICLE NVARCHAR(50) NOT NULL,
    DRV_DOB DATE NOT NULL,
    DRV_DLI DATE NOT NULL,
    VEH_SEATS NVARCHAR(10) NOT NULL,
    COVERAGE_TYPE NVARCHAR(20) NOT NULL,
    SUM_INSURED DECIMAL(15,2) NOT NULL,
    PREMIUM_ESTIMATE DECIMAL(15,2) NOT NULL,
    PRODUCT_TYPE NVARCHAR(50) NOT NULL,
    POLICY_TYPE NVARCHAR(50),
    VALIDITY_PERIOD NVARCHAR(20) NOT NULL,
    VALIDITY_EXPIRY DATE NOT NULL,
    STATUS NVARCHAR(20) DEFAULT 'Draft',
    CREATED_DATE DATE DEFAULT GETDATE(),
    UPDATED_DATE DATETIME DEFAULT GETDATE(),
    REMARKS NVARCHAR(500),
    CONVERTED_TO_POLICY NVARCHAR(50), -- Will store the actual policy number when converted
    CREATED_BY NVARCHAR(100),
    UPDATED_BY NVARCHAR(100)
);

-- Create indexes for better performance
CREATE INDEX IX_Quotations_TempPolicyID ON Quotations(TEMP_POLICY_ID);
CREATE INDEX IX_Quotations_CustID ON Quotations(CUST_ID);
CREATE INDEX IX_Quotations_Status ON Quotations(STATUS);
CREATE INDEX IX_Quotations_CreatedDate ON Quotations(CREATED_DATE);
CREATE INDEX IX_Quotations_ChassisNo ON Quotations(CHASSIS_NO);